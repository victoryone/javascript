!function(a,b,c){"use strict";c.View.extend({bindjQuery:"mainSlider",defaults:{delay:5e3,duration:600},selectors:{indicators:".d-indicator li",play:".d-play",pause:".d-pause",contents:".d-list>li"},initialize:function(a,b){var c=this;c.callParent(a,b)!==!1&&(c.totalCount=c.$contents.length,c.totalCount<=1?c.$indicators.add(c.$play).add(c.$pause).hide():c._bindMainSlider(),c.start())},_bindMainSlider:function(){var b=this;b.$indicators.on("click",">a",function(){var c=a(this).index();b.setContent(c)})},_checkIndex:function(a){return this.options.continuous?0>a?this.totalCount-1:this.totalCount>=a?this.totalCount-1:a:Math.max(0,Math.min(this.totalCount-1,a))},_isFirst:function(){return 0===this.currentIndex},_isLast:function(){return this.currentIndex===this.totalCount-1},start:function(){this.setContent(0)},setContent:function(a){if(!this.isAnimate){var b=this,c=b.$contents.eq(b.currentIndex),d=b.$contents.eq(b._checkIndex(a));b._Itemanimate(c,{complete:function(){c.stop().animate({left:"-100%"},600,function(){b.setContent(a+1)}),d.stop().css({left:"100%"}).animate({left:0},600)}})}},_itemAnimate:function(a,b){var c="";switch(c=a.attr("data-effect")){case"expand":a.find(".d-expand-target").stop().css({left:0,top:0,width:"100%"}).animate({left:"-3%",width:"106%"},500,function(){b&&b()});break;default:b&&b()}}})}(jQuery,emart,emart.ui);