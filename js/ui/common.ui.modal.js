!function(a,b,c){"use strict";var d=c.$doc,e=c.$win,f=c.browser,g=c.ui,h=(f.isTouch,g("Modal",{bindjQuery:"modal",$statics:{ON_CREATED:"modalcreated",ON_SHOW:"modalshow",ON_SHOWN:"modalshown",ON_HIDE:"modalhide",ON_HIDDEN:"modalhidden"},defaults:{overlay:!0,clone:!0,closeByEscape:!0,removeOnClose:!1,draggable:!0,dragHandle:"header h1",show:!0,cssTitle:".d-modal-title"},events:{"click button[data-role]":function(a){var a,c=this,d=b(a.currentTarget),e=d.attr("data-role")||"";e&&(c.triggerHandler(a=b.Event(e),[c]),a.isDefaultPrevented())||this.hide()},"click .d-close":function(a){a.preventDefault(),a.stopPropagation(),this.hide()}},initialize:function(a,b){var d=this;return d.callParent(a,b)===!1?d.release():(d._createHolder(),d.isShown=!1,d._originalDisplay=d.$el.css("display"),d.options.remote?d.$el.load(d.options.remote).done(function(){d.options.show&&c.util.waitImageLoad(d.$el.find("img")).done(function(){d.show()})}):d.options.show&&c.util.waitImageLoad(d.$el.find("img")).done(function(){d.show()}),d.$el.attr({role:"dialog","aria-hidden":"false","aria-describedby":d.$("section").attr("id")||d.$("section").attr("id",d.cid+"_content").attr("id"),"aria-labelledby":d.$("h1").attr("id")||d.$("h1").attr("id",d.cid+"_title").attr("id")}),void d.on("mousewheel.modal",function(a){a.stopPropagation()}))},_createHolder:function(){var a=this;a.$el.parent().is("body")||(a.$holder=b('<span class="d-modal-area" style="display:none;"></span>').insertAfter(a.$el),a.$el.appendTo("body"))},_replaceHolder:function(){var a=this;a.$holder&&(a.$el.insertBefore(a.$holder),a.$holder.remove())},toggle:function(){var a=this;a[a.isShown?"hide":"show"]()},show:function(){if(!this.isShown||h.active!==this){h.active=this;var a=this,d=a.options,e=b.Event(h.ON_SHOW);if(a.trigger(e),!a.isShown&&!e.isDefaultPrevented()){if(a.isShown=!0,d.overlay!==!1&&a._overlay(),a.layout(),a._draggabled(),c.browser.isTouch||(a._escape(),a._enforceFocus()),d.title&&a.$el.find(d.cssTitle).html(d.title||"알림"),a.$el.stop().addClass("d-modal-container").css({position:"absolute",left:"50%",top:"50%",zIndex:9900,backgroundColor:"#ffffff",outline:"none",backgroundClip:"padding-box"}).fadeIn("fast",function(){a.trigger(h.ON_SHOWN,{module:this}),a.layout();var b=a.$el.find("[data-autofocus=true]");b.size()>0?b.eq(0).focus():a.$el.attr("tabindex",0).focus()}),b("body").attr("aria-hidden","true"),a.options.opener){var f="";(f=a.$el.attr("id"))||(f="modal_"+c.getUniqId(16),a.$el.attr("id",f)),b(a.options.opener).attr("aria-controls",f)}c.PubSub.trigger("hide:modal")}}},hide:function(a){a&&a.preventDefault();var e=this;a=b.Event(h.ON_HIDE),e.trigger(a),e.isShown&&!a.isDefaultPrevented()&&(d.off("focusin.modal"),e.off("click.modal keyup.modal"),e.isShown=!1,c.browser.isTouch||e._escape(),e.$el.hide().removeData(e.moduleName).removeClass("d-modal-container"),e.off(e.getEventNamespace()),e._replaceHolder(),e.options.removeOnClose&&e.$el.remove(),e.options.opener&&b(e.options.opener).removeAttr("aria-controls").focus(),e.$overlay&&(e.$overlay.hide().remove(),e.$overlay=null),b("body").removeAttr("aria-hidden"),e.trigger(h.ON_HIDDEN),h.active=null)},layout:function(){var a=this,b=0,d=0,e=c.util.getWinHeight();a.isShown||a.$el.css({display:"inline"}),b=a.$el.outerWidth(),d=a.$el.outerHeight(),a.$el.css({display:""}),a.$el.css(d>e?{top:0,left:"50%",marginLeft:-1*Math.ceil(b/2),marginTop:""}:{top:"50%",left:"50%",marginTop:-1*Math.ceil(d/2),marginLeft:-1*Math.ceil(b/2)})},_draggabled:function(){var a=this,b=a.options;b.draggable&&!a.bindedDraggable&&(a.bindedDraggable=!0,b.dragHandle&&(a.$el.css("position","absolute"),c.css3.prefix("user-select")&&a.$(b.dragHandle).css(c.css3.prefix("user-select"),"none"),a.on("mousedown.modaldrag touchstart.modaldrag",b.dragHandle,function(b){b.preventDefault();var e=!0,f=a.$el.position(),g=({width:a.$el.width(),height:a.$el.height()},{width:c.util.getDocWidth(),height:c.util.getDocHeight()},{left:b.pageX-f.left,top:b.pageY-f.top});d.on("mousemove.modaldrag mouseup.modaldrag touchmove.modaldrag touchend.modaldrag touchcancel.modaldrag",function(b){switch(b.type){case"mousemove":case"touchmove":if(!e)return;a.$el.css({left:b.pageX-g.left,top:b.pageY-g.top});break;case"mouseup":e=!1,d.off(".modaldrag")}})}),a.$el.find(b.dragHandle).css("cursor","move")))},_enforceFocus:function(){var a=this;d.off("focusin.modal").on("focusin.modal",a.proxy(function(c){a.$el[0]===c.target||b.contains(a.$el[0],c.target)||(a.$el.find(":focusable").first().focus(),c.stopPropagation())}))},_escape:function(){var a=this;a.isShown&&a.options.closeByEscape?a.off("keyup.modal").on("keyup.modal",a.proxy(function(b){27===b.which&&a.hide()})):a.off("keyup.modal")},_overlay:function(){var a=this;return b(".d-modal-overlay").length>0?!1:(a.$overlay=b('<div class="d-modal-overlay" />'),a.$overlay.css({backgroundColor:"#ffffff",opacity:.6,position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9e3}).appendTo("body"),void a.$overlay.off("click.modal").on("click.modal",function(b){b.target==b.currentTarget&&(a.$overlay.off("click.modal"),a.hide())}))},center:function(){this.layout()},open:function(){this.show()},close:function(){this.hide()},release:function(){var a=this;a.callParent(),a.$el.add(a.$overlay).off(".modal").remove(),d.off(".modal"),e.off(".modal")}}));h.close=function(a){h.active&&(a&&a.preventDefault(),h.active.hide(),h.active=null)},c.PubSub.on("hide:modal",function(a,b){b===!1&&h.active&&h.close()}),c.PubSub.on("resize:modal",function(){h.active&&h.active.center()}),b(window).on("resize.modal",function(){h.active&&h.active.center()}),c.modal=function(a,c){b(a).modal(c)},c.ui.ajaxModal=function(){return function(a,d){return b.ajax(b.extend({url:a,cache:!1},d&&d.ajax)).done(function(a){var e=b(a.replace(/\n|\r/g,"")).appendTo("body"),f=new h(e,c.extend({removeOnClose:!0,show:!0},d));f.getElement().buildUIControls(),f.on("modalhidden",function(){e=null,f=null})})}}(),c.ui.alert=function(){return function(a,d){"string"!=typeof a&&0===arguments.length&&(d=a,a="");var e=b(c.ui.alert.tmpl).appendTo("body").find("div.d-content").html(a).end(),f=new h(e,c.extend({removeOnClose:!0,show:!0},d));return f.getElement().buildUIControls(),f.on("modalhidden",function(){e=null,f=null}),f}}(),c.ui.alert.tmpl=['<div class="layer_popup small d-alert" role="alert" style="display:none">','<h1 class="title d-title">알림창</h1>','<div class="cntt">','<div class="d-content">&nbsp;</div>','<div class="wrap_btn_c">','<button type="button" class="btn_emphs_small" data-role="ok"><span><span>확인</span></span></button>',"</div>","</div>",'<button type="button" class="d-close"><span>닫기</span></button>','<span class="shadow"></span>',"</div>"].join("")}(window,jQuery,window[FRAMEWORK_NAME]);