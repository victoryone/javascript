!function(a,b,c,d){"use strict";ui("Accordion",{bindjQuery:"accordion",defaults:{selectedClass:"on",disabledTitleClass:"disable",noneClass:"none",isSlideType:!1,slideTime:300,collapseOthers:!0,defaultOpenIndex:-1,isMoveTop:!1},selectors:{list:".d-accord-content",toggleClassTarget:".d-accord-content",toggleButton:".d-toggle-button",content:".cont",closeButton:".d-close"},events:{},initialize:function(a,b){var c=this;c.callParent(a,b)!==!1&&(c.isAniComplete=!0,c.currentIndex=-1,c.$contentList=null,"false"==c.options.isSlideType&&(c.options.isSlideType=!1),-1!=c.options.defaultOpenIndex&&c._handleExpand(this.options.defaultOpenIndex),c._setHandlerOption(),c._bindEvent())},_setHandlerOption:function(){var a=this;a.collapse=a._handleCollapse,a.expand=a._handleExpand,a.options.isSlideType&&(a.collapse=a._slideCollapse,a.expand=a._slideExpand)},_bindEvent:function(){function a(){e=!0,clearTimeout(d),d=setTimeout(function(){e=!1},500)}var c=this,d=null,e=!1,f=vinyl.browser.isTouch;this.$el.on("click dblclick",this.selectors.toggleButton,function(d){if(d.preventDefault(),!f||!e){f&&a();var g=b(this);if(!g.hasClass(c.options.disabledTitleClass)){var h,i=g.closest(c.selectors.list);h=c.selectors.toggleClassTarget==c.selectors.list?i:i.find(c.selectors.toggleClassTarget),c.$contentList=c.$el.find(c.selectors.list);var j=c.$contentList.index(i);i.find(c.selectors.content).length&&d.preventDefault(),h.hasClass(c.options.selectedClass)?c.collapse(j):c.expand(j)}}}),this.on("click",this.selectors.closeButton,function(a){a.preventDefault();var d=b(this).closest(c.selectors.list),e=c.$list.index(d);c.collapse(e,c.options.duration)})},_getDuration:function(a,b){var c=a/b*this.options.slideTime;return 200>c&&(c=200),c>700&&(c=700),Math.round(c)},_slideExpand:function(a){var c,d=this._getTargetData(a);if(d.isExe&&(this.trigger(c=b.Event("expand"),{index:a}),!c.isDefaultPrevented())){var e=(d.$targetCont,d.$scaleTarget),f=d.$classTarget;this.isAniComplete=!1,e.removeClass(this.options.noneClass),f.addClass(this.options.selectedClass),e.height("");var g=e.outerHeight(),h=this._getDuration(g,700);this.options.collapseOthers&&a!=this.currentIndex&&(this.isAniComplete=!0,this._slideCollapse(this.currentIndex,h)),e.stop().height(0).animate({height:g},h,b.proxy(function(){this.isAniComplete=!0,this.trigger("expanded"),e.height(""),this.options.isMoveTop&&b("html, body").stop().animate({scrollTop:f.offset().top},300)},this)),this.currentIndex=a}},_getTargetData:function(a){var b;b=this.$contentList?this.$contentList.eq(a):this.$el.find(this.selectors.list).eq(a);var c=b.find(this.selectors.content),d=!0;this.isAniComplete&&0!=c.length||(d=!1);var e;return e=this.selectors.toggleClassTarget==this.selectors.list?b:b.find(this.selectors.toggleClassTarget),{$targetCont:b,$scaleTarget:c,$classTarget:e,isExe:d}},_slideCollapse:function(a,c){var e=this._getTargetData(a);if(e.isExe){var f;if(this.trigger(f=b.Event("collapse"),{index:a}),!f.isDefaultPrevented()){var g=(e.$targetCont,e.$scaleTarget),h=e.$classTarget;this.isAniComplete=!1,c==d&&(c=this.options.slideTime),g.stop().animate({height:0},c,b.proxy(function(){g.addClass(this.options.noneClass),h.removeClass(this.options.selectedClass),this.trigger("collapsed",{index:a}),this.isAniComplete=!0},this))}}},_handleExpand:function(a){var c=this._getTargetData(a);if(c.isExe){var d;if(this.trigger(d=b.Event("expand"),{index:a}),!d.isDefaultPrevented()){var e=(c.$targetCont,c.$scaleTarget),f=c.$classTarget;e.removeClass(this.options.noneClass),f.addClass(this.options.selectedClass),this.options.collapseOthers&&a!=this.currentIndex&&this._handleCollapse(this.currentIndex),e.removeClass(this.options.noneClass),this.options.isMoveTop&&b("html, body").scrollTop(f.offset().top),this.currentIndex=a,this.trigger("expanded",{index:a})}}},_handleCollapse:function(a){var c=this._getTargetData(a);if(c.isExe){var d;if(this.trigger(d=b.Event("collapse"),{index:a}),!d.isDefaultPrevented()){var e=(c.$targetCont,c.$scaleTarget),f=c.$classTarget;f.removeClass(this.options.selectedClass),e.addClass(this.options.noneClass),this.trigger("collapsed",{index:a})}}},release:function(){}})}(window,jQuery,window[FRAMEWORK_NAME]);