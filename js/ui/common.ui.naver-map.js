!function(a,b,c){"use strict";var d=nhn.api.map;c("NaverMap",{defaults:{icon:{src:"http://static.naver.com/maps2/icons/pin_spot2.png",size:[28,37],offset:[14,37]},map:{defaultPoint:[37.5675451,126.9773356],zoom:12,enableWheelZoom:!0,enableDragPan:!0,enableDblClickZoom:!1,mapMode:0,minMaxLevel:[1,14]},infoWindow:{show:!0,tmpl:'<div id="info<$-storeId$>" class="d-map-info" style="border:1px solid black;width:100px;height:20px;background:#fff;cursor:default;"><$=storeId$>: <a href="aa.html?id=<$=storeId$>" target="_blank"><$=title$></a> <a href="#" class="d-close">X</a></div>',position:{right:5,top:20}},showZoomControl:!0,zoomControlPos:{top:10,left:10}},initialize:function(a,b){var c=this;c.callParent(a,b)!==!1&&(c.list=[],c._createMap(),c._bindMapEvents())},_createMap:function(){var c=this,e=c.options;if(d.setDefaultPoint("LatLng"),c.map=new d.Map(c.$el[0],a.extend({size:new d.Size(c.$el.width(),c.$el.height())},e.map)),c.icon=new d.Icon(e.icon.src,new d.Size(e.icon.size[0],e.icon.size[1]),new d.Size(e.icon.offset[0],e.icon.offset[1])),c.label=new d.MarkerLabel,c.map.addOverlay(c.label),e.infoWindow.show&&(c.infoWindow=new d.InfoWindow,c.map.addOverlay(c.infoWindow),c.infoTmpl=b.template(e.infoWindow.tmpl)),e.showZoomControl){var f=new d.ZoomControl;c.map.addControl(f),f.setPosition(e.zoomControlPos)}},_bindMapEvents:function(){var a=this,c=a.options;a.map.attach("mouseenter",function(c){var e=c.target;if(e instanceof d.Marker){var f=e;a.label.setVisible(!0,f),b.browser.isTouch&&a.map.setCenter(f.getPoint(),{useEffect:!0})}}),a.map.attach("mouseleave",function(b){var c=b.target;c instanceof d.Marker&&a.label.setVisible(!1)}),c.infoWindow.show&&(a.infoWindow.attach("changeVisible",function(b){b.visible&&a.label.setVisible(!1)}),a.$el.on("click",".d-map-info .d-close",function(b){b.preventDefault(),a.infoWindow.setVisible(!1)})),a.map.attach("click",function(b){var c=b.point;a.map.setCenter(c,{useEffect:!0})})},find:function(a){var c=this,d=0,e="var res = false; for(var i = 0; i < list.length; i++) { if(";b.each(a,function(a,b){d++>0&&(e+=" && "),e+="obj."+b+" === list[i]."+b}),e+="){ res = list[i]; break; }} return res;";var f=new Function("obj","list",e);return f(a,c.list)},setSize:function(a){this.map.setSize(new d.Size(a.width,a.height)),this.$el.css({maxHeight:a.height,height:a.height})},setCenter:function(a){a instanceof d.LatLng||(a=new d.LatLng(a.x,a.y)),this.map.setCenter(a,{useEffect:!0})},setCenterById:function(a){var b=this.find({storeId:a});b&&this.setCenter({x:x,y:y})},clearOverlay:function(){var a=this;b.each(a.list,function(b,c){a.map.removeOverlay(a.list[c].oMarker),a.list[c].oMarker=null}),a.list=[]},addMarkers:function(a){b.each(a,function(a){this.addMarker(a)}.bind(this))},addMarker:function(a){if(!this.find({x:a.x,y:a.y})){var b=this,c=new d.LatLng(a.x,a.y),e=new d.Marker(b.icon,{title:a.title});a.oMarker=e,b.list.push(a),e.setPoint(c),b.map.addOverlay(e),1===b.list.length&&b.map.setCenter(c)}},resetMarkers:function(a){this.clearOverlay(),this.addMarkers(a)},release:function(){var a=this;a.clearOverlay(),a.callParent()}})}(jQuery,window[LIB_NAME],window[LIB_NAME].ui);